# docuprinter-helm
This repository contains a helm chart to install the [DocuPrinter container from sergogmbh](https://sergo-gmbh.github.io/DocuPrinter/) in kubernetes.

## Quickstart

### General

```bash
helm repo add sergo-docuprinter https://sergo-gmbh.github.io/DocuPrinter-Helm/

helm upgrade --install docuprinter sergo-docuprinter/docuprinter
```

### Quickstart local with minikube

```bash
minikube start --cpus 4 --memory 8192

minikube addons enable default-storageclass
minikube addons enable dashboard
minikube addons enable metrics-server
minikube addons enable storage-provisioner
minikube addons enable ingress

helm upgrade --install docuprinter ./charts/docuprinter/
```

## Configuration

### Parameters

This chart has currently no application specific parameters. For ressource limits check the examples or the values.yaml file. All settings in the values file are auto generated by helm cli tool.

### Examples

**Autoscaling**

The following configuration is a recommandation. Based on the size of the HTML document you can handle 2-4 requests per second in one container. I prefer more containers with less requests instead of using large containers with a lot of requests because you can better share ressources across multiple nodes.

With two requests per second, I have "60% / 80%" usage in my metrics and about 75Mi memory usage.

```yaml
  limits:
    cpu: 400m
    memory: 200Mi
  requests:
    cpu: 400m
    memory: 200Mi
```